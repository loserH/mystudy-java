package com.example.changedata.common.utils;

import org.apache.commons.io.FileUtils;
import sun.misc.BASE64Decoder;
import sun.misc.BASE64Encoder;

import java.io.File;
import java.io.IOException;
import java.nio.charset.StandardCharsets;
import java.util.Base64;

/**
 * 工具类，图片格式转变
 */
public class PictureUtils {

    /**
     * Base64 转png文件
     * @param pngName
     * @param path
     * @param base64
     * @throws IOException
     */
    public static void base64ToPng(String pngName, String path, String base64) throws IOException {
        File newImage = new File(path+"\\"+ pngName + ".png");
        byte[] bytes = Base64.getDecoder().decode(base64);
        FileUtils.writeByteArrayToFile(newImage, bytes);
    }

//    public static void main(String[] args) throws IOException {
//        File image = new File("src/test/resources/imageConvertBase64.jpeg");
//        File newImage = new File("D:\\图片\\img\\new-imageConvertBase64.png");
//
//        // 编码为 Base64 字符串
//        byte[] bytes = null;
////        byte[] bytes = FileUtils.readFileToByteArray(image);
////        String base64 = new String(Base64.getEncoder().encode(bytes), StandardCharsets.UTF_8);
////        System.out.println(base64);
//        String base64 = "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";
//        // Base64 保存为图片
//        bytes = Base64.getDecoder().decode(base64);
//        FileUtils.writeByteArrayToFile(newImage, bytes);
//    }

}
